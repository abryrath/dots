var userEmail;
function _44f7ca0fea4c44c68f26b7972b35938fd9ac7948(){var c=window.location.hash.replace("#notif_object_key=","");chrome.runtime.sendMessage({getInfoForAdditionalNotif:!0,globalDeviceKey:c},function(a){console.log("Additional Notif Info ",a);_a0819237ab339c661f9a55efcdc183ca56203044(a.global_device_notif);_5d442866acb83486e016089904beea7b5604d0eb(a.global_device_notif);userEmail=a.user_email});_267e9463f856dafe244230b54a788a2e784e4f7e({strings_elem:$(".localized-string"),replace_func:function(a){return a.replace("%app_name%",'<span class="device-notif-option-app-name">this app</span>')}})}
function _a0819237ab339c661f9a55efcdc183ca56203044(c,a){var e=encodeURIComponent(c.package_name),d=c.device_id,b={url:"https://textyserver.appspot.com/",type:"GET",dataType:"text",timeout:8E3,success:function(b,d,e){console.log(b);void 0==a?(b=JSON.parse(b),console.log(b),_e824d8956b40579bd9ad52bdc70450af1357105b(b.user_device_app,c)):void 0!=b.user_device_app||void 0!=b.user_notifs?_2a5e0efaf307dc87250daa265143333b60c78163(c.app_name,a,!0):_2a5e0efaf307dc87250daa265143333b60c78163(c.app_name,a,!1)},
error:function(b,d,e){void 0==a?_e824d8956b40579bd9ad52bdc70450af1357105b(null):_2a5e0efaf307dc87250daa265143333b60c78163(c.app_name,a,!1);_5f4240ca7eb7e3c1748ce1230ac93093f6e54c9b("Error details: "+e.error,"red")}};if(void 0==a)b.type="GET",b.url+="deviceapp?function=getSingleUserDeviceApp&package_name="+e+"&device_id="+d;else if(b.type="POST",b.dataType="json","store-this-notif"==a){var f=JSON.stringify(c.original_object);console.log(f);b.url+="usernotifs?function=storeSingleNotif";b.data={device_id:d,
package_name:e,notif_content:f}}else f=c.app_name,b.url+="deviceapp?function=",b.data={device_id:d,package_name:e,app_name:f},"store-all-future-notifs-for-this-app"==a?(b.url+="setAppNotifStoreState",b.data.notif_store=1):(b.url+="setAppNotifBlockState","block-this-app"==a?b.data.notif_block=1:"unblock-this-app"==a&&(b.data.notif_block=0));console.log({url_for_ajax_request:"https://textyserver.appspot.com/"});console.log(b);$.ajax(b)}
function _e824d8956b40579bd9ad52bdc70450af1357105b(c,a){null!=c?0==c.notif_store?$(".device-notif-option").show():$("#button-one").show():$(".device-notif-option").show();$(".device-notif-preview").fadeIn(200,function(){_99dec1531f9e7efa1949b84fbe01dbb583571236(a)});_36f977ed75afc3ffbd46418c94888bb2407a9132()}
function _99dec1531f9e7efa1949b84fbe01dbb583571236(c){$(".device-notif-option").on("click",function(){var a=$(this).data("action");console.log(c);_a0819237ab339c661f9a55efcdc183ca56203044(c,a);"k"==userEmail.charAt(0)&&_b6afb5d8174c3fdc86a2854292689a85e768bba9("Device-Notif-Click-Option-Letter-K",{"Package-Name":c.package_name,Client:"CRX",Action:a});_ca052fd0c58dff651677328502611dd4b9f96373("CRX","Device-Notif-Click-Option",a)})}
function _5d442866acb83486e016089904beea7b5604d0eb(c){console.log(c);$("title").text(c.app_name+" - MightyText");$(".device-notif-preview-img-wrapper > img").attr("src",c.app_img_url);$(".device-notif-app-name").text(c.app_name);$(".device-notif-text").text(c.app_notif_message).dotdotdot({ellipsis:"...",height:120});$(".device-notif-option .device-notif-option-app-name").text(c.app_name)}
function _2a5e0efaf307dc87250daa265143333b60c78163(c,a,e){var d="",b="";console.log(a);0!=e?(b='<i class="fa fa-check-circle device-notif-option-icon device-notif-success"></i>',"block-this-app"==a?d=_17b88bbdae4990e1a40e4c9175cb0cb5f572c185({key:"blocked_app_notif"}):"store-this-notif"==a?d=_17b88bbdae4990e1a40e4c9175cb0cb5f572c185({key:"store_this_app_notif"}):"store-all-future-notifs-for-this-app"==a&&(d=_17b88bbdae4990e1a40e4c9175cb0cb5f572c185({key:"save_all_this_apps_notifs_conf"}))):(b='<i class="fa fa-times-circle device-notif-option-icon device-notif-error"></i>',
"block-this-app"==a?d=_17b88bbdae4990e1a40e4c9175cb0cb5f572c185({key:"error_blocking_app_notif"}):"store-this-notif"==a?d=_17b88bbdae4990e1a40e4c9175cb0cb5f572c185({key:"error_storing_notif"}):"store-all-future-notifs-for-this-app"==a&&(d=_17b88bbdae4990e1a40e4c9175cb0cb5f572c185({key:"error_save_all_this_apps_notifs"})));d=d.replace("%app_name%",'<span class="device-notif-option-app-name">'+c+"</span>");$("[data-action='"+a+"']").html(b).append('<span class="device-notif-option-action-text">'+d+
"</span>").hide().fadeIn(150).delay(4E3).queue(function(){window.close()})}function _36f977ed75afc3ffbd46418c94888bb2407a9132(){chrome.windows.getCurrent(function(c){var a=window.navigator.appVersion;console.log(a);a=-1<a.indexOf("Macintosh")?$(".device-notif-preview").height()+22:$(".device-notif-preview").height()+39;console.log("notifHeight: "+a);chrome.windows.update(c.id,{height:a},function(a){console.log(a)})})}_44f7ca0fea4c44c68f26b7972b35938fd9ac7948();