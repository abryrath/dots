#!/usr/bin/env bash

function addPackage() {
    package="$1"
    opts="$2"
    if [[ "$3" -gt 0 ]]; then
        cask="/usr/local/bin/brew cask"
    fi

    eval "${cask:-/usr/local/bin/brew} info $package" | grep -e 'Not installed' &>/dev/null
    if [[ $? -eq 0 ]]; then
        echo "$package should be added"
        eval "${cask:-/usr/local/bin/brew} install $package $opts"
    else
        echo "$package is already installed. Skipping..."
    fi
}

addPackage "emacs" "--with-cocoa"
addPackage "chunkwm" ""
addPackage "httpd" ""
addPackage "node" ""
addPackage "yarn" ""
addPackage "htop" ""
addPackage "neofetch" ""
addPackage "zsh" ""
addPackage "php" ""
addPackage "php@7.0" ""
addPackage "php@7.1" ""
addPackage "php@5.6" ""
addPackage "composer" ""


# Casks
addPackage "font-envy-code-r" "" 1
addPackage "sequel-pro" "" 1
addPackage "spotify" "" 1
